services:
  node1:
    build: .
    image: kademlia_node
    environment:
      - PORT=9001
      - ISBOOTSTRAP=TRUE
    networks: [testnet]
  node2:
    image: kademlia_node
    environment:
      - PORT=9002
      - BOOTSTRAPNODE=node1
      - ISBOOTSTRAP=FALSE
    networks: [testnet]
  node3:
    image: kademlia_node
    environment:
      - PORT=9003
      - BOOTSTRAPNODE=node1
      - ISBOOTSTRAP=FALSE
    networks: [testnet]
  node4:
    image: kademlia_node
    environment:
      - PORT=9004
      - BOOTSTRAPNODE=node1
      - ISBOOTSTRAP=FALSE
    networks: [testnet]
  node5:
    image: kademlia_node
    environment:
      - PORT=9005
      - BOOTSTRAPNODE=node1
      - ISBOOTSTRAP=FALSE
    networks: [testnet]
networks:
  testnet:
    driver: bridge
